<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <style>
    html,body{height:100%;margin:0;background:transparent;}
    #wrap{position:relative;width:100%;height:100%;min-height:420px;border-radius:18px;overflow:hidden;
      background:radial-gradient(circle at 40% 30%, rgba(255,255,255,.14), rgba(0,0,0,.18));}
    #shadow{position:absolute;left:50%;bottom:34px;width:180px;height:44px;transform:translateX(-50%);
      border-radius:999px;background:rgba(0,0,0,.45);filter:blur(14px);opacity:.55;pointer-events:none;
      transform-origin:center;}
    canvas{display:block;width:100%;height:100%}
    #hud{position:absolute;left:10px;top:10px;padding:8px 10px;border-radius:10px;
      font:12px/1.3 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:rgba(0,0,0,.55);
      color:#fff;white-space:pre-wrap;max-width:calc(100% - 20px);pointer-events:none;}
  </style>

  <!-- This is the IMPORTANT part: it tells modules what "three" means -->
  <script type="importmap">
  {
    "imports": {
      "three": "./three.module.js"
    }
  }
  </script>
</head>

<body>
  <div id="wrap">
    <div id="shadow"></div>
    <canvas id="c"></canvas>
    <div id="hud">Loading…</div>
  </div>

  <script type="module">
    import * as THREE from "three";
    import { GLTFLoader } from "./GLTFLoader.module.js";

    const hud = document.getElementById("hud");
    const setHUD = (m)=> hud.textContent = m;

    // ✅ BEST: rename your GLB to model.glb and use this:
    let GLB_URL = "./model.glb";

    // ✅ If you are NOT renaming, comment the line above and use this exact filename:
    // GLB_URL = "./ImageToStl.com_Wii+-+Nicktoons_+Attack+of+The+Toybots!+-+Playable+Characters+-+GIR+(Dog+Disguise).glb";

    // Pupils (we can fine-tune these after we see it)
    const EYE_L = new THREE.Vector3(-0.35, 0.55, 0.85);
    const EYE_R = new THREE.Vector3( 0.35, 0.55, 0.85);
    const PUPIL_MAX = 0.08;

    const HOP_HEIGHT = 0.35, HOP_SPEED = 2.4;

    const wrap = document.getElementById("wrap");
    const shadowEl = document.getElementById("shadow");
    const canvas = document.getElementById("c");

    const renderer = new THREE.WebGLRenderer({ canvas, alpha:true, antialias:true });
    renderer.setPixelRatio(Math.min(devicePixelRatio, 2));

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, 1, 0.1, 100);
    camera.position.set(0, 1.2, 4.2);

    scene.add(new THREE.AmbientLight(0xffffff, 0.45));
    const key = new THREE.DirectionalLight(0xffffff, 1.05); key.position.set(3,5,4)

    
